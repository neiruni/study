{% extends 'base.html' %}
{% load static %}

{% block header %}
    <link rel="stylesheet" href="{% static 'index.css' %}">
{% endblock %}

{% block title %}
    <title>ユーザーマスタ</title>
{% endblock %}


{% block content %}
<div class="container mt-5 p-lg-5 bg-light">
    <h4>ユーザーマスタ</h4>
    <div class="d-flex flex-row bd-highlight mb-3 form-control">
        <div class="col-5">
            <h5>メニュー</h5>
            <a type="button" href="{% url 'web:user_create' %}">ユーザー登録</a>
        </div>
        <div class="col-5">
            <h5>マスタ</h5>
            <a href="{% url 'web:index' %}">商品マスタ</a>
        </div>
    </div>
    <div class='form-control'>
        <form action="{% url 'web:user' %}" method="POST">
            {% csrf_token %}
            <h5>検索</h5>
            <div class="d-flex flex-row bd-highlight mb-3">
                <div class="form-content">
                    <label class="form-label">{{ form.user_id.label }}</label>
                    {{ form.user_id }}
                </div>
                <div class="form-content">
                    <label class="form-label">{{ form.user_name.label }}</label>
                    {{ form.user_name }}
                </div>
                <div class="form-content">
                    <label class="form-label">{{ form.del_flg.label }}</label>
                    {{ form.del_flg }}
                </div>
                <button type="submit" class="btn btn-primary form-btn">検索</button>
            </div>  
        </form> 
    </div>
    <table class="table">
        <thead>
            <tr>
                <th class="th">ユーザーID</th>
                <th class="th">ユーザー名</th>
                <th class="th">有効フラグ</th>
                <th class="th">登録日時</th>
            </tr>
        </thead>
        <tbody>
            {% for item in object_list %}
            {% if item.del_flg == '1' %}
            <tr>
                <td style="background-color: #e0e0e0;"><a href="{% url 'web:user_update' item.pk %}">{{ item.user_id }}</a></td>
                <td style="background-color: #e0e0e0;">{{ item.user_name }}</td>
                <td style="background-color: #e0e0e0;">{{ item.del_flg }}</td>
                <td style="background-color: #e0e0e0;">{{ item.register_dt|date:"Y/m/d" }}</td>
            </tr>
            {% else %}
            <tr>
                <td><a href="{% url 'web:user_update' item.pk %}">{{ item.user_id }}</a></td>
                <td>{{ item.user_name }}</td>
                <td>{{ item.del_flg }}</td>
                <td>{{ item.register_dt|date:"Y/m/d" }}</td>
            </tr>
            {% endif %}
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}